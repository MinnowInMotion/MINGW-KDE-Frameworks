<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>KNewStuff - KMoreTools Class Reference</title>

    <style type="text/css">
      .cp-doNotDisplay { display: none; }
      @media aural, braille, handheld, tty { .cp-doNotDisplay { display: inline; speak: normal; }}
      .cp-edit { text-align: right; }
      @media print, embossed { .cp-edit { display: none; }}
    </style>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="meta" href="http://www.kde.org/labels.rdf" type="application/rdf+xml" title="ICRA labels" />
    <meta name="trademark" content="KDE e.V." />
    <meta name="description" content="K Desktop Environment Homepage, KDE.org" />
    <meta name="MSSmartTagsPreventParsing" content="true" />
    <meta name="robots" content="all" />
    <meta name="no-email-collection" content="http://www.unspam.com/noemailcollection" />
   
    <script type="text/javascript" src="../../../resources/3rd-party/jquery/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link rel="shortcut icon" href="../../../resources/favicon.ico" />
    <link rel="icon" href="../../../resources/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="../../../resources/3rd-party/bootstrap/css/bootstrap.min.css" />
  
    <link rel="stylesheet" type="text/css" href="doxygen.css" />
  
    <link rel="stylesheet" type="text/css" href="../../../resources/css/kapidox.css" />


  
</head>

<body>

  <ul class="cp-doNotDisplay">
    <li><a href="#cp-content" accesskey="2">Skip to content</a></li>
    <li><a href="#cp-menu" accesskey="5">Skip to link menu</a></li>
  </ul>

  <nav id="navbar" class="navbar navbar-static-top bg-primary">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          <img alt="Brand" id="navbar-logo" src="../../../resources/kde-white.svg"/>
        </a>
      </div>
      <p id="navbar-title" class="navbar-text">
        API Documentation 
      </p>
    </div>
  </nav>

  <nav class="navbar">
    <div class="container">
      <ol class="breadcrumb navbar-nav">
      
        <li><a href="../../../index.html">KDE API Reference</a></li>
      
        <li><a href="../../index.html">The KDE Frameworks</a></li>
      
        <li class="active"><a href="index.html">KNewStuff</a></li>
      
      </ol>

        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://www.kde.org/">KDE Home</a></li>
          <li><a href="http://kde.org/contact/">Contact Us</a></li>
        </ul>
      </div>
    </div>
  </nav> <!-- /header -->

  <div id="body_wrapper" class="container">
    <div class="row">
      <div id="left" class="col-md-3">
        
    <div class="menu-box">
  <a name="cp-menu" />
  <div class="menu-title">
    <h2 id="cp-menu-project">Quick Links</h2>
    <a href="#cp-skip-project" class="cp-doNotDisplay">Skip menu "KNewStuff"</a>
  </div>
  <div class="menu-content">
  
    <ul>
    
      <li><a href="index.html">Main Page</a></li>
    
      <li><a href="classes.html">Alphabetical List</a></li>
    
      <li><a href="annotated.html">Class List</a></li>
    
      <li><a href="files.html">File List</a></li>
    
      <li><a href="pages.html">Related Pages</a></li>
    
    </ul>
  
  </div>
</div>


<div class="menu_box">
  <div class="menu-title">
    <h2>Class Picker</h2>
  </div>
  <div class="menu-content">
    <form name="guideform">
      <select class="form-control" name="guidelinks" style="width:100%;" onChange="window.location=document.guideform.guidelinks.options[document.guideform.guidelinks.selectedIndex].value">
        <option value="annotated.html">-- Choose --</option>
        
        <option value="classKNS3_1_1Button.html">KNS3::Button</option>
        
        <option value="classKNS3_1_1DownloadDialog.html">KNS3::DownloadDialog</option>
        
        <option value="classKNS3_1_1DownloadManager.html">KNS3::DownloadManager</option>
        
        <option value="classKNS3_1_1DownloadWidget.html">KNS3::DownloadWidget</option>
        
        <option value="classKNS3_1_1Entry.html">KNS3::Entry</option>
        
        <option value="classKMoreTools.html">KMoreTools</option>
        
        <option value="classKMoreToolsMenuBuilder.html">KMoreToolsMenuBuilder</option>
        
        <option value="classKMoreToolsMenuFactory.html">KMoreToolsMenuFactory</option>
        
        <option value="classKMoreToolsMenuItem.html">KMoreToolsMenuItem</option>
        
        <option value="classKMoreToolsPresets.html">KMoreToolsPresets</option>
        
        <option value="classKMoreToolsService.html">KMoreToolsService</option>
        
        <option value="classKNS3_1_1UploadDialog.html">KNS3::UploadDialog</option>
        
      </select>
    </form>
  </div>
</div>



  <div class="menu-box">
  <div class="menu-title">
    <h2>About</h2>
  </div>
  <div class="menu-content">
    <p>Support for downloading application assets from the network</p>

    <dl>
      <dt>Maintainer</dt>
        <dd>    
      <a href="mailto:jpwhiting@kde.org">Jeremy Whiting</a>
    </dd>

  

      <dt>Supported platforms</dt>
        <dd>
      
        
            Linux, 
        
      
        
            MacOSX, 
        
      
        
            Windows
        
      
         </dd>

      <dt>Community</dt>
        <dd>IRC: <a href="irc://freenode/#kde-devel">#kde-devel</a> on Freenode</dd>
        <dd>Mailing list: <a href="https://mail.kde.org/mailman/listinfo/kde-frameworks-devel">kde-frameworks-devel</a></dd>

    
      <dt>Use with <a href="https://techbase.kde.org/Development/Tutorials/CMake">CMake</a></dt>
        <dd><pre class="fragment">find_package(KF5NewStuff)
target_link_libraries(yourapp KF5::NewStuff)</pre>
        </dd>

    
    
      <dt>Use with QMake</dt>
        <dd><pre class="fragment">QT += KNewStuff </pre></dd>
    

      <dt>Clone</dt>
        <dd><pre class="fragment">git clone git://anongit.kde.org/knewstuff-5.26.0.git</pre></dd>
      <dt>Browse source</dt>
        <dd>KNewStuff on <a href="https://cgit.kde.org/knewstuff-5.26.0.git/tree">cgit.kde.org</a></dd>
    </dl>
  </div>
</div>




      </div> <!-- /left -->

      <!-- begin main content -->
      <div id="right" class="col-md-9">
        <div class="row-fluid">
          <div class="page-header">

            <form action="search.html" method="get" class="form-inline">
              <div id="search" class="input-group pull-right">
                <input type="text" id="search-input" name="query" aria-label="Search input" class="form-control" placeholder="Search for...">
                <span class="input-group-btn">
                  <button type="submit" class="btn btn-default" aria-label="Search">
                    <span class="glyphicon glyphicon-search"></span>
                  </button>
                </span>
              </div>
            </form>

            <div>
              <h1><a name="content"></a> KNewStuff </h1>
            </div>
          </div>
        </div>
        <div class="row-fluid content">
          <div id="main">
            


<ul class="additional_info">
  <li><a href="http://lxr.kde.org/ident?v=kf5-qt5&amp;_i=KMoreTools">View on LXR</a></li>
</ul>


<div id="top"> <!-- Doxygen will close this div -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classKMoreTools-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">KMoreTools Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="kmoretools_8h_source.html">kmoretools.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7d88427253e237dcf632639eeb7bf2eb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMoreTools.html#a7d88427253e237dcf632639eeb7bf2eb">ConfigureDialogAccessibleSetting</a> { <a class="el" href="classKMoreTools.html#a7d88427253e237dcf632639eeb7bf2ebab89b40d0d09ec2c355e2d71df9353790">ConfigureDialogAccessible_Always</a>,
<a class="el" href="classKMoreTools.html#a7d88427253e237dcf632639eeb7bf2ebac7255231a8761dedd3a035d81735edc3">ConfigureDialogAccessible_Defensive</a>
 }</td></tr>
<tr class="separator:a7d88427253e237dcf632639eeb7bf2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a786e8819ac1278162bdcd769600b92"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMoreTools.html#a1a786e8819ac1278162bdcd769600b92">MenuSection</a> { <a class="el" href="classKMoreTools.html#a1a786e8819ac1278162bdcd769600b92ac3fd9d7e6388b1651a70c74a2b98bf42">MenuSection_Main</a>,
<a class="el" href="classKMoreTools.html#a1a786e8819ac1278162bdcd769600b92ac3dab6105c7e68c45037413f6d6e9dc6">MenuSection_More</a>
 }</td></tr>
<tr class="separator:a1a786e8819ac1278162bdcd769600b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe97a71ceaaabe7062ef172bb4a6b2e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2e">ServiceLocatingMode</a> { <a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2ea1168b7028244219cb9c81e8fda582d56">ServiceLocatingMode_Default</a>,
<a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2eaf69e651b3a5332fc2210a37ab881f6e4">ServiceLocatingMode_ByProvidedExecLine</a>
 }</td></tr>
<tr class="separator:abbe97a71ceaaabe7062ef172bb4a6b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8f06d79730b6a07002b1aabc687b3ee3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMoreTools.html#a8f06d79730b6a07002b1aabc687b3ee3">KMoreTools</a> (const QString &amp;uniqueId)</td></tr>
<tr class="separator:a8f06d79730b6a07002b1aabc687b3ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a9a6dd9402685db5020f3aaa8e254e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classKMoreToolsMenuBuilder.html">KMoreToolsMenuBuilder</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMoreTools.html#a19a9a6dd9402685db5020f3aaa8e254e">menuBuilder</a> (const QString &amp;userConfigPostfix=QString()) const</td></tr>
<tr class="separator:a19a9a6dd9402685db5020f3aaa8e254e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b27ab2c217357df20a4a9dde8d13eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classKMoreToolsService.html">KMoreToolsService</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMoreTools.html#a01b27ab2c217357df20a4a9dde8d13eb">registerServiceByDesktopEntryName</a> (const QString &amp;desktopEntryName, const QString &amp;kmtDesktopfileSubdir=QString(), <a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2e">ServiceLocatingMode</a> serviceLocatingMode=<a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2ea1168b7028244219cb9c81e8fda582d56">ServiceLocatingMode_Default</a>)</td></tr>
<tr class="separator:a01b27ab2c217357df20a4a9dde8d13eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helps to create user-configurable menus with tools which are potentially not yet installed. </p>
<p>This class is one entry point of the <a class="el" href="classKMoreTools.html" title="Helps to create user-configurable menus with tools which are potentially not yet installed. ">KMoreTools</a> API. See also <a class="el" href="classKMoreToolsMenuFactory.html" title="This is the class with the highest abstraction in KMoreTools. ">KMoreToolsMenuFactory</a>.</p>
<dl class="section note"><dt>Note</dt><dd>This is a new API (published within KNewStuff since April 2015). Its current target are KDE applications which are part of the kdesrcbuild infrastructure. Here, it is possible to find all usages and to adapt to API changes when needed. So, if you use this in your own application, beware that there might be API changes when more use cases are developed.</dd></dl>
<h2>Introduction </h2>
<p><a class="el" href="classKMoreTools.html" title="Helps to create user-configurable menus with tools which are potentially not yet installed. ">KMoreTools</a> helps to to build user-configurable menus with tools which might not installed yet. These tools may also take URL arguments supplied by the application.</p>
<p>The user will see a menu item for a tool even if it is not installed (in the 'More' section). Furthermore, it makes long menus shorter by providing a main and more section. It provides a 'Configure menu' dialog to make the menu user-configurable.</p>
<p>It does this in the following ways:</p><ul>
<li>Provide an API to define external applications for a given context.</li>
<li>If a defined application is not installed (yet) the application is (optionally) still presented to the user with a hint that it is not installed and a link to the homepage (later with integration to package managment). This increases the discoverability of useful applications the user never heard about yet.</li>
<li>In case of many applications for a given context, it provides a GUI to the user to hand-pick favorite tools. This makes it easier for application developers to add alternative application/tool suggestions without worrying about cluttered menus.</li>
<li>Menu items can be (automatically) moved to the "More" submenu.</li>
<li>Reduce translation effort by re-using .desktop files of the services added to the menu.</li>
</ul>
<h2>Details </h2>
<p>The term "kmt-desktopfile" refers to a 1:1 copy of a .desktop file. The kmt-desktopfile is provided by the application that uses <a class="el" href="classKMoreTools.html" title="Helps to create user-configurable menus with tools which are potentially not yet installed. ">KMoreTools</a> and must be installed to subdirectories of /usr/share/kf5/kmoretools/</p><ul>
<li>e.g. /usr/share/kf5/kmoretools/dolphin/statusbar-diskspace-menu/</li>
<li>e.g. /usr/share/kf5/kmoretools/kate/addons/project/git-tools/</li>
<li>generally, 'QStandardPaths::GenericDataLocation'/kf5/kmoretools/'uniqueId'</li>
</ul>
<p>See <a class="el" href="classKMoreTools.html#a8f06d79730b6a07002b1aabc687b3ee3">KMoreTools::KMoreTools</a> for hints of how to install this correctly using cmake.</p>
<p>The kmt-desktopfiles are used to get ready-made translations for application name and description even if the application is not installed. You can also provide an icon which is used in the not-installed section when the application is not installed yet.</p>
<p>For details about the resulting menu structure, see <a class="el" href="classKMoreToolsMenuBuilder.html" title="Define how the default structure of the menu should look like. ">KMoreToolsMenuBuilder</a>.</p>
<p>See also <a href="https://community.kde.org/Scratchpad/KMoreToolsFramework">https://community.kde.org/Scratchpad/KMoreToolsFramework</a> (outdated)</p>
<h2>Rationale for the "Not installed" section </h2>
<ul>
<li>Increase discoverability and visibility of useful free software that have inherently low budget for marketing.</li>
<li>Make interconnection of different free software packages as effortless as possible (in terms of creating and maintaining the menu).</li>
<li>Provide expert (i.e. your) knowledge to useful free software alternatives to solve a certain task.</li>
<li>Give novice users hints about tools that are useful in a particular context even if they are not installed.</li>
<li>Improve self-documentation of applications.</li>
</ul>
<h2>Presets </h2>
<p>Before installing desktop files in your application you might take a look at <a class="el" href="classKMoreToolsPresets.html" title="Provides static methods to make use of desktop files provided by KMoreTools. ">KMoreToolsPresets</a> or <a class="el" href="classKMoreToolsMenuFactory.html" title="This is the class with the highest abstraction in KMoreTools. ">KMoreToolsMenuFactory</a> which might already contain the needed tools.</p>
<h2>Screenshots </h2>
<p>This section shows screenshots of usage examples.</p>
<h3>KSnapshot's Send To... menu</h3>
<p>Last updated: 2015-04-17, uncommited demo, source code: src/kde/kdegraphics/ksnapshot/ksnapshotsendtoactions.cpp</p>
<p>Note, that the last item in the 'More' menu in the following screenshot was added by KSnapshot's code.</p>
<div class="image">
<img src="kmoretools-ksnapshot-sendto-1.png" alt="kmoretools-ksnapshot-sendto-1.png" width="100px"/>
<div class="caption">
Send To menu</div></div>
<h3>Dolphins's Space info menu</h3>
<p>Last updated: 2015-04-17, uncommited demo, source code: src/kde/applications/dolphin/src/statusbar/spaceinfotoolsmenu.cpp</p>
<div class="image">
<img src="kmoretools-dolphin-spaceinfo-1.png" alt="kmoretools-dolphin-spaceinfo-1.png" width="100px"/>
<div class="caption">
Space info menu</div></div>
<h3>Kate's Project plugin git menu</h3>
<p>Last updated: 2015-03-25, uncommited demo, source code: src/kde/applications/kate/addons/project/kateprojecttreeviewcontextmenu.cpp</p>
<div class="image">
<img src="kmoretools-kate-project-1-all-installed.png" alt="kmoretools-kate-project-1-all-installed.png" width="100px"/>
<div class="caption">
All git tools installed</div></div>
<p> <br />
</p><div class="image">
<img src="kmoretools-kate-project-2-two-not-installed.png" alt="kmoretools-kate-project-2-two-not-installed.png" width="100px"/>
<div class="caption">
Not all git tools installed</div></div>
<p> <br />
</p><div class="image">
<img src="kmoretools-kate-project-3-config-dialog-all-installed.png" alt="kmoretools-kate-project-3-config-dialog-all-installed.png" width="100px"/>
<div class="caption">
'Configure menu' dialog</div></div>
<h3>Kate's Project plugin git menu</h3>
<p>Last updated: 2015-04-17, source code: src/frameworks/knewstuff/tests/kmoretools/kmoretoolstest.cpp</p>
<div class="image">
<img src="kmoretools-tests-configure-dialog-notinstalledapps.png" alt="kmoretools-tests-configure-dialog-notinstalledapps.png" width="100px"/>
<div class="caption">
Configure dialog when there are non-installed apps</div></div>
<h2>FAQ </h2>
<h3>Why is everything based on desktopfiles?</h3>
<ul>
<li>With desktopfiles translation can be reused.</li>
<li>Definition of application icon can be reused.</li>
<li>They provide a unified interface for dealing with program arguments.</li>
</ul>
<h2>todo later </h2>
<ul>
<li>question: <a class="el" href="classKMoreTools.html#a01b27ab2c217357df20a4a9dde8d13eb" title="Registers a service with KMoreTools. ">KMoreTools::registerServiceByDesktopEntryName()</a>:<ul>
<li>warn if service is not of Type=Application (<a class="elRef" doxygen="D:/Users/anthony/Documents/MINGW-KDE-Frameworks/frameworks/kservice-5.26.0/html/KService.tags:../../../frameworks/kservice-5.26.0/html/" href="../../../frameworks/kservice-5.26.0/html/classKService.html#adf9a23b6da0122cb70bb40f2f7a0e86e">KService::isApplication()</a>) or just leave it? Add support for package managers to install software (e.g. muon discover)</li>
</ul>
</li>
<li>maybe: kmt-desktopfiles: add a config file that can configure the homepage URLs and e.g. the package name if needed for package manager support</li>
</ul>
<dl class="section since"><dt>Since</dt><dd>5.10 </dd></dl>

<p class="definition">Definition at line <a class="el" href="kmoretools_8h_source.html#l00172">172</a> of file <a class="el" href="kmoretools_8h_source.html">kmoretools.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a7d88427253e237dcf632639eeb7bf2eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d88427253e237dcf632639eeb7bf2eb">&#9670;&nbsp;</a></span>ConfigureDialogAccessibleSetting</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classKMoreTools.html#a7d88427253e237dcf632639eeb7bf2eb">KMoreTools::ConfigureDialogAccessibleSetting</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify if the Configure dialog be accessible from the menu (via a "Configure..." menu item) </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7d88427253e237dcf632639eeb7bf2ebab89b40d0d09ec2c355e2d71df9353790"></a>ConfigureDialogAccessible_Always&#160;</td><td class="fielddoc"><p>Always show the "Configure..." menu item (default) </p>
</td></tr>
<tr><td class="fieldname"><a id="a7d88427253e237dcf632639eeb7bf2ebac7255231a8761dedd3a035d81735edc3"></a>ConfigureDialogAccessible_Defensive&#160;</td><td class="fielddoc"><p>Defensively show the "Configure..." menu item. </p>
<p>The "Configure..." menu item will only be shown if there are non-installed apps. Rationale (suggestion): Do not clutter menu more than needed in standard cases. But when there are not-installed apps the configure dialog can be used to find out more about these apps.</p>
<p>Note, that the "Configure..." menu item still becomes visible when the user holds the Ctrl key while opening the menu. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="kmoretools_8h_source.html#l00232">232</a> of file <a class="el" href="kmoretools_8h_source.html">kmoretools.h</a>.</p>

</div>
</div>
<a id="a1a786e8819ac1278162bdcd769600b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a786e8819ac1278162bdcd769600b92">&#9670;&nbsp;</a></span>MenuSection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classKMoreTools.html#a1a786e8819ac1278162bdcd769600b92">KMoreTools::MenuSection</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify where a menu item be placed by default. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1a786e8819ac1278162bdcd769600b92ac3fd9d7e6388b1651a70c74a2b98bf42"></a>MenuSection_Main&#160;</td><td class="fielddoc"><p>The item is placed in the main section (default) </p>
</td></tr>
<tr><td class="fieldname"><a id="a1a786e8819ac1278162bdcd769600b92ac3dab6105c7e68c45037413f6d6e9dc6"></a>MenuSection_More&#160;</td><td class="fielddoc"><p>The item is placed in the "More" submenu. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="kmoretools_8h_source.html#l00198">198</a> of file <a class="el" href="kmoretools_8h_source.html">kmoretools.h</a>.</p>

</div>
</div>
<a id="abbe97a71ceaaabe7062ef172bb4a6b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe97a71ceaaabe7062ef172bb4a6b2e">&#9670;&nbsp;</a></span>ServiceLocatingMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2e">KMoreTools::ServiceLocatingMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify how should be determined if a service is installed or not. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abbe97a71ceaaabe7062ef172bb4a6b2ea1168b7028244219cb9c81e8fda582d56"></a>ServiceLocatingMode_Default&#160;</td><td class="fielddoc"><p>by existence of desktop file (discoverable by <a class="elRef" doxygen="D:/Users/anthony/Documents/MINGW-KDE-Frameworks/frameworks/kservice-5.26.0/html/KService.tags:../../../frameworks/kservice-5.26.0/html/" href="../../../frameworks/kservice-5.26.0/html/classKService.html">KService</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="abbe97a71ceaaabe7062ef172bb4a6b2eaf69e651b3a5332fc2210a37ab881f6e4"></a>ServiceLocatingMode_ByProvidedExecLine&#160;</td><td class="fielddoc"><p>by existence of executable defined in the TryExec or Exec line of the provided kmt-desktopfile </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="kmoretools_8h_source.html#l00181">181</a> of file <a class="el" href="kmoretools_8h_source.html">kmoretools.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8f06d79730b6a07002b1aabc687b3ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f06d79730b6a07002b1aabc687b3ee3">&#9670;&nbsp;</a></span>KMoreTools()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KMoreTools::KMoreTools </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>uniqueId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uniqueId</td><td>defines two things 1) the config section name where the user settings done by the Configure dialog will be stored. 2) the location where the kmt-desktopfiles should be installed because there they will be searched by default. If <code>uniqueId</code> contains slashes they will result in subdirectories. The default location can be overriden by registerServiceByDesktopEntryName's kmtDesktopfileSubdir parameter. This is currently used in <a class="el" href="classKMoreToolsPresets.html" title="Provides static methods to make use of desktop files provided by KMoreTools. ">KMoreToolsPresets</a> implementation to separate the kmt-desktopfiles location from the user's config section name.</td></tr>
  </table>
  </dd>
</dl>
<h2>Install Desktopfiles </h2>
<p>Example 1 (CMakeFileLists.txt if uniqueId = "dolphin/statusbar-diskspace-menu"): </p><pre class="fragment"> # note the trailing slash       ------------. (it makes sure only the contents of the directory is copied)
 #                                           |                                 ----fix---
 #                                           v                                            ------ uniqueId-----------------
 install(DIRECTORY statusbar/kmt-desktopfiles/ DESTINATION ${KDE_INSTALL_DATADIR_KF5}/kmoretools/dolphin/statusbar-diskspace-menu)</pre><p>Example 2: </p><pre class="fragment">                                                                                ------ uniqueId--------------
 install(DIRECTORY kmt-desktopfiles/ DESTINATION ${KDE_INSTALL_DATADIR_KF5}/kmoretools/kate/addons/project/git-tools)</pre><h3>About ${KDE_INSTALL_DATADIR_KF5}</h3>
<p>In general, ${KDE_INSTALL_DATADIR_KF5}/kmoretools/hallo ends up in /usr/share/kf5/kmoretools/hallo.</p>
<p>To use it, you need to add</p><pre class="fragment">include(KDEInstallDirs) </pre><p> to your CMakeLists.txt. </p>

<p class="definition">Definition at line <a class="el" href="kmoretools_8cpp_source.html#l00092">92</a> of file <a class="el" href="kmoretools_8cpp_source.html">kmoretools.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a19a9a6dd9402685db5020f3aaa8e254e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19a9a6dd9402685db5020f3aaa8e254e">&#9670;&nbsp;</a></span>menuBuilder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classKMoreToolsMenuBuilder.html">KMoreToolsMenuBuilder</a> * KMoreTools::menuBuilder </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>userConfigPostfix</em> = <code>QString()</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the interface to build the menu. It is a singleton instance for each different <code>userConfigPostfix</code> (which is "" by default). So repeated calls with same parameter will return the same object.</dd></dl>
<p>The pointer lives as long as <a class="el" href="classKMoreTools.html" title="Helps to create user-configurable menus with tools which are potentially not yet installed. ">KMoreTools</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userConfigPostfix</td><td>is empty by default. You can use it to specify a postfix for the user config section. So you can build different menus which can be configured separately. (This is used in unit tests to separated test cases.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classKMoreToolsMenuBuilder.html#afffe6429258bfa2e8cbee9e2742396a0" title="Clears all added menu items. ">KMoreToolsMenuBuilder::clear()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="kmoretools_8cpp_source.html#l00186">186</a> of file <a class="el" href="kmoretools_8cpp_source.html">kmoretools.cpp</a>.</p>

</div>
</div>
<a id="a01b27ab2c217357df20a4a9dde8d13eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b27ab2c217357df20a4a9dde8d13eb">&#9670;&nbsp;</a></span>registerServiceByDesktopEntryName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classKMoreToolsService.html">KMoreToolsService</a> * KMoreTools::registerServiceByDesktopEntryName </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>desktopEntryName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>kmtDesktopfileSubdir</em> = <code>QString()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2e">KMoreTools::ServiceLocatingMode</a>&#160;</td>
          <td class="paramname"><em>serviceLocatingMode</em> = <code><a class="el" href="classKMoreTools.html#abbe97a71ceaaabe7062ef172bb4a6b2ea1168b7028244219cb9c81e8fda582d56">ServiceLocatingMode_Default</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a service with <a class="el" href="classKMoreTools.html" title="Helps to create user-configurable menus with tools which are potentially not yet installed. ">KMoreTools</a>. </p>
<p>If the method is called more than once for the same desktopEntryName the service is located again and the old service is replaced with the new one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desktopEntryName</td><td>is the name of the desktopfile (without the .desktop extension) The desktop file is<ol type="1">
<li>either already installed. Then the information of the installed file is used.</li>
<li>or not installed and kmt-desktopfile is present. Then the information of the app-local copy of desktopfile located in the kmt-desktopfiles directory is used</li>
<li>or not installed and no kmt-desktopfile provided. In this case <a class="el" href="classKMoreToolsService.html#a5c380628a6de4b5981b23301a5cdc97d" title="Sets the homepage url the user is shown when a service is not installed. ">KMoreToolsService::setHomepageUrl</a> should be used so that at least a website link can be displayed.</li>
</ol>
</td></tr>
    <tr><td class="paramname">kmtDesktopfileSubdir</td><td>when not empty overrides the <code>uniqueId</code> parameter from the ctor when it comes to searching a kmt-desktopfile. Default value is the empty string.</td></tr>
    <tr><td class="paramname">serviceLocatingMode</td><td>== ServiceLocatingMode_ByProvidedExecLine: Some programs don't install a desktop file of their own (e.g. gitk). If set to true then installed desktop files are not searched but the provided in kmt-desktopfiles will be used to extract exec line. The exec line will be used to determine if the executable is installed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="classKMoreToolsService.html" title="A service described in a .desktop file (kmt-desktopfile) which will be called &quot;registered service&quot;...">KMoreToolsService</a> pointer which lives as long as <a class="el" href="classKMoreTools.html" title="Helps to create user-configurable menus with tools which are potentially not yet installed. ">KMoreTools</a>, so do not store it for later use. </dd>
<dd>
nullptr if the kmt provided desktop file is faulty. This kind of error must be fixed before you ship your application. This case is only used for unit tests. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kmoretools_8cpp_source.html#l00103">103</a> of file <a class="el" href="kmoretools_8cpp_source.html">kmoretools.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="kmoretools_8h_source.html">kmoretools.h</a></li>
<li><a class="el" href="kmoretools_8cpp_source.html">kmoretools.cpp</a></li>
</ul>
</div><!-- contents -->

<div class="copyrights">
  This file is part of the KDE documentation.<br/>
  Documentation copyright &copy; 1996-2017 The KDE developers.<br/>
  Generated on Wed Aug 16 2017 09:25:27 by
  <a href="http://www.doxygen.org/">doxygen</a> 1.8.13 written
  by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>, &copy;&nbsp;1997-2006
  <p>
  KDE's <a href="http://community.kde.org/Policies/Library_Documentation_Policy">Doxygen guidelines</a> are available online.
  </p>
</div>


          </div>
        </div>
      </div> <!-- /right -->
    </div> <!-- /body -->
  </div> <!-- /body_wrapper -->

  <footer class="footer bg-primary">
    <div id="footer-text" class="center-block col-md-7" style="float:none;">
        <p>Report problems with this website to <a href="https://go.kde.org/u/systickets">our bug tracking system</a>.<br />
Contact the specific authors with questions and comments about the page contents.<p>
<p>KDE<sup>&#174;</sup> and <a href="/media/images/kde_gear_black.png">the K Desktop Environment<sup>&#174;</sup> logo</a> are registered trademarks of <a href="http://ev.kde.org/" title="Homepage of the KDE non-profit Organization">KDE e.V.</a> | <a href="http://www.kde.org/contact/impressum.php">Legal</a></p>
    </div>
    
  </footer>

<!--
WARNING: DO NOT SEND MAIL TO THE FOLLOWING EMAIL ADDRESS! YOU WILL
BE BLOCKED INSTANTLY AND PERMANENTLY!
<a href="mailto:aaaatrap-45abe0e0c3bebc77@kde.org">Block me</a>
WARNING END
-->

</body>
</html>