<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>KCoreAddons - KMacroExpanderBase Class Reference</title>

    <style type="text/css">
      .cp-doNotDisplay { display: none; }
      @media aural, braille, handheld, tty { .cp-doNotDisplay { display: inline; speak: normal; }}
      .cp-edit { text-align: right; }
      @media print, embossed { .cp-edit { display: none; }}
    </style>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="meta" href="http://www.kde.org/labels.rdf" type="application/rdf+xml" title="ICRA labels" />
    <meta name="trademark" content="KDE e.V." />
    <meta name="description" content="K Desktop Environment Homepage, KDE.org" />
    <meta name="MSSmartTagsPreventParsing" content="true" />
    <meta name="robots" content="all" />
    <meta name="no-email-collection" content="http://www.unspam.com/noemailcollection" />
   
    <script type="text/javascript" src="../../../resources/3rd-party/jquery/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link rel="shortcut icon" href="../../../resources/favicon.ico" />
    <link rel="icon" href="../../../resources/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="../../../resources/3rd-party/bootstrap/css/bootstrap.min.css" />
  
    <link rel="stylesheet" type="text/css" href="doxygen.css" />
  
    <link rel="stylesheet" type="text/css" href="../../../resources/css/kapidox.css" />


  
</head>

<body>

  <ul class="cp-doNotDisplay">
    <li><a href="#cp-content" accesskey="2">Skip to content</a></li>
    <li><a href="#cp-menu" accesskey="5">Skip to link menu</a></li>
  </ul>

  <nav id="navbar" class="navbar navbar-static-top bg-primary">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          <img alt="Brand" id="navbar-logo" src="../../../resources/kde-white.svg"/>
        </a>
      </div>
      <p id="navbar-title" class="navbar-text">
        API Documentation 
      </p>
    </div>
  </nav>

  <nav class="navbar">
    <div class="container">
      <ol class="breadcrumb navbar-nav">
      
        <li><a href="../../../index.html">KDE API Reference</a></li>
      
        <li><a href="../../index.html">The KDE Frameworks</a></li>
      
        <li class="active"><a href="index.html">KCoreAddons</a></li>
      
      </ol>

        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://www.kde.org/">KDE Home</a></li>
          <li><a href="http://kde.org/contact/">Contact Us</a></li>
        </ul>
      </div>
    </div>
  </nav> <!-- /header -->

  <div id="body_wrapper" class="container">
    <div class="row">
      <div id="left" class="col-md-3">
        
    <div class="menu-box">
  <a name="cp-menu" />
  <div class="menu-title">
    <h2 id="cp-menu-project">Quick Links</h2>
    <a href="#cp-skip-project" class="cp-doNotDisplay">Skip menu "KCoreAddons"</a>
  </div>
  <div class="menu-content">
  
    <ul>
    
      <li><a href="index.html">Main Page</a></li>
    
      <li><a href="namespaces.html">Namespace List</a></li>
    
      <li><a href="namespacemembers.html">Namespace Members</a></li>
    
      <li><a href="classes.html">Alphabetical List</a></li>
    
      <li><a href="annotated.html">Class List</a></li>
    
      <li><a href="hierarchy.html">Class Hierarchy</a></li>
    
      <li><a href="files.html">File List</a></li>
    
      <li><a href="pages.html">Related Pages</a></li>
    
    </ul>
  
  </div>
</div>


<div class="menu_box">
  <div class="menu-title">
    <h2>Class Picker</h2>
  </div>
  <div class="menu-content">
    <form name="guideform">
      <select class="form-control" name="guidelinks" style="width:100%;" onChange="window.location=document.guideform.guidelinks.options[document.guideform.guidelinks.selectedIndex].value">
        <option value="annotated.html">-- Choose --</option>
        
        <option value="classKAboutData.html">KAboutData</option>
        
        <option value="classKAboutLicense.html">KAboutLicense</option>
        
        <option value="classKAboutPerson.html">KAboutPerson</option>
        
        <option value="classKAutoSaveFile.html">KAutoSaveFile</option>
        
        <option value="classKCharMacroExpander.html">KCharMacroExpander</option>
        
        <option value="classKCompositeJob.html">KCompositeJob</option>
        
        <option value="classKdelibs4ConfigMigrator.html">Kdelibs4ConfigMigrator</option>
        
        <option value="classKdelibs4Migration.html">Kdelibs4Migration</option>
        
        <option value="classKDirWatch.html">KDirWatch</option>
        
        <option value="classKFormat.html">KFormat</option>
        
        <option value="classKJob.html">KJob</option>
        
        <option value="classKJobTrackerInterface.html">KJobTrackerInterface</option>
        
        <option value="classKJobUiDelegate.html">KJobUiDelegate</option>
        
        <option value="classKMacroExpanderBase.html">KMacroExpanderBase</option>
        
        <option value="classKMessageHandler.html">KMessageHandler</option>
        
        <option value="classKPluginFactory.html">KPluginFactory</option>
        
        <option value="classKPluginLoader.html">KPluginLoader</option>
        
        <option value="classKPluginMetaData.html">KPluginMetaData</option>
        
        <option value="classKPluginName.html">KPluginName</option>
        
        <option value="classKProcess.html">KProcess</option>
        
        <option value="classKRandomSequence.html">KRandomSequence</option>
        
        <option value="classKSharedDataCache.html">KSharedDataCache</option>
        
        <option value="classKTextToHTMLEmoticonsInterface.html">KTextToHTMLEmoticonsInterface</option>
        
        <option value="classKUser.html">KUser</option>
        
        <option value="classKUserGroup.html">KUserGroup</option>
        
        <option value="structKUserOrGroupId.html">KUserOrGroupId< K_GID ></option>
        
        <option value="structKUserOrGroupId.html">KUserOrGroupId< K_UID ></option>
        
        <option value="classKWordMacroExpander.html">KWordMacroExpander</option>
        
        <option value="namespaceKMacroExpander.html">KMacroExpander</option>
        
        <option value="namespaceKMessage.html">KMessage</option>
        
        <option value="namespaceKRandom.html">KRandom</option>
        
        <option value="namespaceKShell.html">KShell</option>
        
        <option value="namespaceKStringHandler.html">KStringHandler</option>
        
        <option value="namespaceKTextToHTML.html">KTextToHTML</option>
        
        <option value="namespaceKUrlMimeData.html">KUrlMimeData</option>
        
      </select>
    </form>
  </div>
</div>



  <div class="menu-box">
  <div class="menu-title">
    <h2>About</h2>
  </div>
  <div class="menu-content">
    <p>Addons to QtCore</p>

    <dl>
      <dt>Maintainer</dt>
        <dd>    
      <a href="mailto:mpyne@kde.org">Michael Pyne</a>
    </dd>

  

      <dt>Supported platforms</dt>
        <dd>
      
        
            Android, 
        
      
        
            Linux, 
        
      
        
            MacOSX, 
        
      
        
            Windows
        
      
         </dd>

      <dt>Community</dt>
        <dd>IRC: <a href="irc://freenode/#kde-devel">#kde-devel</a> on Freenode</dd>
        <dd>Mailing list: <a href="https://mail.kde.org/mailman/listinfo/kde-frameworks-devel">kde-frameworks-devel</a></dd>

    
      <dt>Use with <a href="https://techbase.kde.org/Development/Tutorials/CMake">CMake</a></dt>
        <dd><pre class="fragment">find_package(KF5CoreAddons)
target_link_libraries(yourapp KF5::CoreAddons)</pre>
        </dd>

    
    
      <dt>Use with QMake</dt>
        <dd><pre class="fragment">QT += KCoreAddons </pre></dd>
    

      <dt>Clone</dt>
        <dd><pre class="fragment">git clone git://anongit.kde.org/kcoreaddons-5.26.0.git</pre></dd>
      <dt>Browse source</dt>
        <dd>KCoreAddons on <a href="https://cgit.kde.org/kcoreaddons-5.26.0.git/tree">cgit.kde.org</a></dd>
    </dl>
  </div>
</div>




      </div> <!-- /left -->

      <!-- begin main content -->
      <div id="right" class="col-md-9">
        <div class="row-fluid">
          <div class="page-header">

            <form action="search.html" method="get" class="form-inline">
              <div id="search" class="input-group pull-right">
                <input type="text" id="search-input" name="query" aria-label="Search input" class="form-control" placeholder="Search for...">
                <span class="input-group-btn">
                  <button type="submit" class="btn btn-default" aria-label="Search">
                    <span class="glyphicon glyphicon-search"></span>
                  </button>
                </span>
              </div>
            </form>

            <div>
              <h1><a name="content"></a> KCoreAddons </h1>
            </div>
          </div>
        </div>
        <div class="row-fluid content">
          <div id="main">
            


<ul class="additional_info">
  <li><a href="http://lxr.kde.org/ident?v=kf5-qt5&amp;_i=KMacroExpanderBase">View on LXR</a></li>
</ul>


<div id="top"> <!-- Doxygen will close this div -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classKMacroExpanderBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">KMacroExpanderBase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="kmacroexpander_8h_source.html">KMacroExpanderBase</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for KMacroExpanderBase:</div>
<div class="dyncontent">
<div class="center"><img src="classKMacroExpanderBase__inherit__graph.png" border="0" usemap="#KMacroExpanderBase_inherit__map" alt="Inheritance graph"/></div>
<map name="KMacroExpanderBase_inherit__map" id="KMacroExpanderBase_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa1b43ed6087098aad09d515be1397e87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#aa1b43ed6087098aad09d515be1397e87">KMacroExpanderBase</a> (QChar c=QLatin1Char('%'))</td></tr>
<tr class="separator:aa1b43ed6087098aad09d515be1397e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89537301331c144bffa1e5b6f7e0a84c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#a89537301331c144bffa1e5b6f7e0a84c">~KMacroExpanderBase</a> ()</td></tr>
<tr class="separator:a89537301331c144bffa1e5b6f7e0a84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2066c0167e01ca9e9004094bb3080d50"><td class="memItemLeft" align="right" valign="top">QChar&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#a2066c0167e01ca9e9004094bb3080d50">escapeChar</a> () const</td></tr>
<tr class="separator:a2066c0167e01ca9e9004094bb3080d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1938a93ae6e03d517bcae5bf65a6430a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#a1938a93ae6e03d517bcae5bf65a6430a">expandMacros</a> (QString &amp;str)</td></tr>
<tr class="separator:a1938a93ae6e03d517bcae5bf65a6430a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9d2fbb7d0b640ba744152b40c24b00"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#ada9d2fbb7d0b640ba744152b40c24b00">expandMacrosShellQuote</a> (QString &amp;str, int &amp;pos)</td></tr>
<tr class="separator:ada9d2fbb7d0b640ba744152b40c24b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0d17f22e51b051e62aa94bef02f045"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#a8b0d17f22e51b051e62aa94bef02f045">expandMacrosShellQuote</a> (QString &amp;str)</td></tr>
<tr class="separator:a8b0d17f22e51b051e62aa94bef02f045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fab042d7696dc5fc172475cb698b99f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#a7fab042d7696dc5fc172475cb698b99f">setEscapeChar</a> (QChar c)</td></tr>
<tr class="separator:a7fab042d7696dc5fc172475cb698b99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab73e880b0dcf06da05ad6ee8d7ec98ba"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#ab73e880b0dcf06da05ad6ee8d7ec98ba">expandEscapedMacro</a> (const QString &amp;str, int pos, QStringList &amp;ret)</td></tr>
<tr class="separator:ab73e880b0dcf06da05ad6ee8d7ec98ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a796748175343a35c28a4ca898639e590"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKMacroExpanderBase.html#a796748175343a35c28a4ca898639e590">expandPlainMacro</a> (const QString &amp;str, int pos, QStringList &amp;ret)</td></tr>
<tr class="separator:a796748175343a35c28a4ca898639e590"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract base class for the worker classes behind the <a class="el" href="namespaceKMacroExpander.html" title="A group of functions providing macro expansion (substitution) in strings, optionally with quoting app...">KMacroExpander</a> namespace and the <a class="el" href="classKCharMacroExpander.html" title="Abstract base class for single char macro substitutors. ">KCharMacroExpander</a> and <a class="el" href="classKWordMacroExpander.html" title="Abstract base class for simple word macro substitutors. ">KWordMacroExpander</a> classes. </p>
<dl class="section author"><dt>Author</dt><dd>Oswald Buddenhagen <a href="#" onclick="location.href='mai'+'lto:'+'oss'+'i@'+'kde'+'.o'+'rg'; return false;">ossi@<span style="display: none;">.nosp@m.</span>kde.<span style="display: none;">.nosp@m.</span>org</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8h_source.html#l00041">41</a> of file <a class="el" href="kmacroexpander_8h_source.html">kmacroexpander.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa1b43ed6087098aad09d515be1397e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b43ed6087098aad09d515be1397e87">&#9670;&nbsp;</a></span>KMacroExpanderBase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KMacroExpanderBase::KMacroExpanderBase </td>
          <td>(</td>
          <td class="paramtype">QChar&#160;</td>
          <td class="paramname"><em>c</em> = <code>QLatin1Char('%')</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>escape char indicating start of macros, or QChar::null for none </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00028">28</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<a id="a89537301331c144bffa1e5b6f7e0a84c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89537301331c144bffa1e5b6f7e0a84c">&#9670;&nbsp;</a></span>~KMacroExpanderBase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KMacroExpanderBase::~KMacroExpanderBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00032">32</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2066c0167e01ca9e9004094bb3080d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2066c0167e01ca9e9004094bb3080d50">&#9670;&nbsp;</a></span>escapeChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QChar KMacroExpanderBase::escapeChar </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the macro escape character. </p>
<dl class="section return"><dt>Returns</dt><dd>escape char indicating start of macros, or QChar::null if none </dd></dl>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00044">44</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<a id="ab73e880b0dcf06da05ad6ee8d7ec98ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73e880b0dcf06da05ad6ee8d7ec98ba">&#9670;&nbsp;</a></span>expandEscapedMacro()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int KMacroExpanderBase::expandEscapedMacro </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QStringList &amp;&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is called every time the escape char is found if it is not QChar::null. </p>
<p>It should determine whether the string starting at <code>pos</code> witin <code>str</code> is a valid macro and return the substitution value for it if so. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>the input string </td></tr>
    <tr><td class="paramname">pos</td><td>the offset within <code>str</code>. Note that this is the position of the occurrence of the escape char </td></tr>
    <tr><td class="paramname">ret</td><td>return value: the string to substitute for the macro </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If greater than zero, the number of chars at <code>pos</code> in <code>str</code> to substitute with <code>ret</code> (i.e., a valid macro was found). If less than zero, subtract this value from <code>pos</code> (to skip a macro, i.e., substitute it with itself). If zero, scanning continues as if no escape char was encountered at all. </dd></dl>

<p>Reimplemented in <a class="el" href="classKCharMacroExpander.html#a07e9a0eefbe9b065eb727e268936ede3">KCharMacroExpander</a>, and <a class="el" href="classKWordMacroExpander.html#a46a401dffd4ec5b093929df7d51ee2e9">KWordMacroExpander</a>.</p>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00096">96</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<a id="a1938a93ae6e03d517bcae5bf65a6430a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1938a93ae6e03d517bcae5bf65a6430a">&#9670;&nbsp;</a></span>expandMacros()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KMacroExpanderBase::expandMacros </td>
          <td>(</td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform safe macro expansion (substitution) on a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>the string in which macros are expanded in-place </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00049">49</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<a id="ada9d2fbb7d0b640ba744152b40c24b00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9d2fbb7d0b640ba744152b40c24b00">&#9670;&nbsp;</a></span>expandMacrosShellQuote() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KMacroExpanderBase::expandMacrosShellQuote </td>
          <td>(</td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform safe macro expansion (substitution) on a string for use in shell commands. </p>
<h3>*NIX notes</h3>
<p>Explicitly supported shell constructs: \ '' "" $'' $"" {} () $(()) ${} $() ``</p>
<p>Implicitly supported shell constructs: (())</p>
<p>Unsupported shell constructs that will cause problems: Shortened &quot;<code>case $v in pat)</code>&quot; syntax. Use &quot;<code>case $v in (pat)</code>&quot; instead.</p>
<p>The rest of the shell (incl. bash) syntax is simply ignored, as it is not expected to cause problems.</p>
<p>Note that bash contains a bug which makes macro expansion within double quoted substitutions (<code>"${VAR:-%macro}"</code>) inherently insecure.</p>
<p>For security reasons, <em>never</em> put expandos in command line arguments that are shell commands by themselves - &quot;<code>sh -c 'foo %f'</code>&quot; is taboo. &quot;<code>file=%f sh -c 'foo "$file"'</code>&quot; is OK.</p>
<h3>Windows notes</h3>
<p>All quoting syntax supported by <a class="el" href="namespaceKShell.html" title="Emulates some basic system shell functionality. ">KShell</a> is supported here as well. Additionally, command grouping via parentheses is recognized - note however, that the parser is much stricter about unquoted parentheses than cmd itself. The rest of the cmd syntax is simply ignored, as it is not expected to cause problems - do not use commands that embed other commands, though - &quot;<code>for /f ...</code>&quot; is taboo.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>the string in which macros are expanded in-place </td></tr>
    <tr><td class="paramname">pos</td><td>the position inside the string at which parsing/substitution should start, and upon exit where processing stopped </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if the string could not be parsed and therefore no safe substitution was possible. Note that macros will have been processed up to the point where the error occurred. An unmatched closing paren or brace outside any shell construct is <em>not</em> an error (unlike in the function below), but still prematurely terminates processing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kmacroexpander__unix_8cpp_source.html#l00086">86</a> of file <a class="el" href="kmacroexpander__unix_8cpp_source.html">kmacroexpander_unix.cpp</a>.</p>

</div>
</div>
<a id="a8b0d17f22e51b051e62aa94bef02f045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b0d17f22e51b051e62aa94bef02f045">&#9670;&nbsp;</a></span>expandMacrosShellQuote() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KMacroExpanderBase::expandMacrosShellQuote </td>
          <td>(</td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same as above, but always starts at position 0, and unmatched closing parens and braces are treated as errors. </p>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00084">84</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<a id="a796748175343a35c28a4ca898639e590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a796748175343a35c28a4ca898639e590">&#9670;&nbsp;</a></span>expandPlainMacro()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int KMacroExpanderBase::expandPlainMacro </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QStringList &amp;&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is called for every single char within the string if the escape char is QChar::null. </p>
<p>It should determine whether the string starting at <code>pos</code> within <code>str</code> is a valid macro and return the substitution value for it if so. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>the input string </td></tr>
    <tr><td class="paramname">pos</td><td>the offset within <code>str</code> </td></tr>
    <tr><td class="paramname">ret</td><td>return value: the string to substitute for the macro </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If greater than zero, the number of chars at <code>pos</code> in <code>str</code> to substitute with <code>ret</code> (i.e., a valid macro was found). If less than zero, subtract this value from <code>pos</code> (to skip a macro, i.e., substitute it with itself). If zero, no macro starts at <code>pos</code>. </dd></dl>

<p>Reimplemented in <a class="el" href="classKCharMacroExpander.html#af639bc3bed306565e7498e9d788533ce">KCharMacroExpander</a>, and <a class="el" href="classKWordMacroExpander.html#aa776feecca0b869070d4cbd78e7af15b">KWordMacroExpander</a>.</p>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00090">90</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<a id="a7fab042d7696dc5fc172475cb698b99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fab042d7696dc5fc172475cb698b99f">&#9670;&nbsp;</a></span>setEscapeChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KMacroExpanderBase::setEscapeChar </td>
          <td>(</td>
          <td class="paramtype">QChar&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the macro escape character. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>escape char indicating start of macros, or QChar::null if none </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kmacroexpander_8cpp_source.html#l00038">38</a> of file <a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="kmacroexpander_8h_source.html">kmacroexpander.h</a></li>
<li><a class="el" href="kmacroexpander_8cpp_source.html">kmacroexpander.cpp</a></li>
<li><a class="el" href="kmacroexpander__unix_8cpp_source.html">kmacroexpander_unix.cpp</a></li>
<li><a class="el" href="kmacroexpander__win_8cpp_source.html">kmacroexpander_win.cpp</a></li>
</ul>
</div><!-- contents -->

<div class="copyrights">
  This file is part of the KDE documentation.<br/>
  Documentation copyright &copy; 1996-2017 The KDE developers.<br/>
  Generated on Wed Aug 16 2017 09:23:31 by
  <a href="http://www.doxygen.org/">doxygen</a> 1.8.13 written
  by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>, &copy;&nbsp;1997-2006
  <p>
  KDE's <a href="http://community.kde.org/Policies/Library_Documentation_Policy">Doxygen guidelines</a> are available online.
  </p>
</div>


          </div>
        </div>
      </div> <!-- /right -->
    </div> <!-- /body -->
  </div> <!-- /body_wrapper -->

  <footer class="footer bg-primary">
    <div id="footer-text" class="center-block col-md-7" style="float:none;">
        <p>Report problems with this website to <a href="https://go.kde.org/u/systickets">our bug tracking system</a>.<br />
Contact the specific authors with questions and comments about the page contents.<p>
<p>KDE<sup>&#174;</sup> and <a href="/media/images/kde_gear_black.png">the K Desktop Environment<sup>&#174;</sup> logo</a> are registered trademarks of <a href="http://ev.kde.org/" title="Homepage of the KDE non-profit Organization">KDE e.V.</a> | <a href="http://www.kde.org/contact/impressum.php">Legal</a></p>
    </div>
    
  </footer>

<!--
WARNING: DO NOT SEND MAIL TO THE FOLLOWING EMAIL ADDRESS! YOU WILL
BE BLOCKED INSTANTLY AND PERMANENTLY!
<a href="mailto:aaaatrap-45abe0e0c3bebc77@kde.org">Block me</a>
WARNING END
-->

</body>
</html>