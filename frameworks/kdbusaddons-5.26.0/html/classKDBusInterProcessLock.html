<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>KDBusAddons - KDBusInterProcessLock Class Reference</title>

    <style type="text/css">
      .cp-doNotDisplay { display: none; }
      @media aural, braille, handheld, tty { .cp-doNotDisplay { display: inline; speak: normal; }}
      .cp-edit { text-align: right; }
      @media print, embossed { .cp-edit { display: none; }}
    </style>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="meta" href="http://www.kde.org/labels.rdf" type="application/rdf+xml" title="ICRA labels" />
    <meta name="trademark" content="KDE e.V." />
    <meta name="description" content="K Desktop Environment Homepage, KDE.org" />
    <meta name="MSSmartTagsPreventParsing" content="true" />
    <meta name="robots" content="all" />
    <meta name="no-email-collection" content="http://www.unspam.com/noemailcollection" />
   
    <script type="text/javascript" src="../../../resources/3rd-party/jquery/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link rel="shortcut icon" href="../../../resources/favicon.ico" />
    <link rel="icon" href="../../../resources/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="../../../resources/3rd-party/bootstrap/css/bootstrap.min.css" />
  
    <link rel="stylesheet" type="text/css" href="doxygen.css" />
  
    <link rel="stylesheet" type="text/css" href="../../../resources/css/kapidox.css" />


  
</head>

<body>

  <ul class="cp-doNotDisplay">
    <li><a href="#cp-content" accesskey="2">Skip to content</a></li>
    <li><a href="#cp-menu" accesskey="5">Skip to link menu</a></li>
  </ul>

  <nav id="navbar" class="navbar navbar-static-top bg-primary">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          <img alt="Brand" id="navbar-logo" src="../../../resources/kde-white.svg"/>
        </a>
      </div>
      <p id="navbar-title" class="navbar-text">
        API Documentation 
      </p>
    </div>
  </nav>

  <nav class="navbar">
    <div class="container">
      <ol class="breadcrumb navbar-nav">
      
        <li><a href="../../../index.html">KDE API Reference</a></li>
      
        <li><a href="../../index.html">The KDE Frameworks</a></li>
      
        <li class="active"><a href="index.html">KDBusAddons</a></li>
      
      </ol>

        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://www.kde.org/">KDE Home</a></li>
          <li><a href="http://kde.org/contact/">Contact Us</a></li>
        </ul>
      </div>
    </div>
  </nav> <!-- /header -->

  <div id="body_wrapper" class="container">
    <div class="row">
      <div id="left" class="col-md-3">
        
    <div class="menu-box">
  <a name="cp-menu" />
  <div class="menu-title">
    <h2 id="cp-menu-project">Quick Links</h2>
    <a href="#cp-skip-project" class="cp-doNotDisplay">Skip menu "KDBusAddons"</a>
  </div>
  <div class="menu-content">
  
    <ul>
    
      <li><a href="index.html">Main Page</a></li>
    
      <li><a href="namespaces.html">Namespace List</a></li>
    
      <li><a href="classes.html">Alphabetical List</a></li>
    
      <li><a href="annotated.html">Class List</a></li>
    
      <li><a href="files.html">File List</a></li>
    
      <li><a href="pages.html">Related Pages</a></li>
    
    </ul>
  
  </div>
</div>


<div class="menu_box">
  <div class="menu-title">
    <h2>Class Picker</h2>
  </div>
  <div class="menu-content">
    <form name="guideform">
      <select class="form-control" name="guidelinks" style="width:100%;" onChange="window.location=document.guideform.guidelinks.options[document.guideform.guidelinks.selectedIndex].value">
        <option value="annotated.html">-- Choose --</option>
        
        <option value="classKDBusInterProcessLock.html">KDBusInterProcessLock</option>
        
        <option value="classKDBusService.html">KDBusService</option>
        
        <option value="classKDEDModule.html">KDEDModule</option>
        
        <option value="namespaceKDEInitInterface.html">KDEInitInterface</option>
        
      </select>
    </form>
  </div>
</div>



  <div class="menu-box">
  <div class="menu-title">
    <h2>About</h2>
  </div>
  <div class="menu-content">
    <p>Addons to QtDBus</p>

    <dl>
      <dt>Maintainer</dt>
        <dd>    
      <a href="mailto:faure@kde.org">David Faure</a>
    </dd>

  

      <dt>Supported platforms</dt>
        <dd>
      
        
            Linux, 
        
      
        
            MacOSX, 
        
      
        
            Windows
        
      
         </dd>

      <dt>Community</dt>
        <dd>IRC: <a href="irc://freenode/#kde-devel">#kde-devel</a> on Freenode</dd>
        <dd>Mailing list: <a href="https://mail.kde.org/mailman/listinfo/kde-frameworks-devel">kde-frameworks-devel</a></dd>

    
      <dt>Use with <a href="https://techbase.kde.org/Development/Tutorials/CMake">CMake</a></dt>
        <dd><pre class="fragment">find_package(KF5DBusAddons)
target_link_libraries(yourapp KF5::DBusAddons)</pre>
        </dd>

    
    
      <dt>Use with QMake</dt>
        <dd><pre class="fragment">QT += KDBusAddons </pre></dd>
    

      <dt>Clone</dt>
        <dd><pre class="fragment">git clone git://anongit.kde.org/kdbusaddons-5.26.0.git</pre></dd>
      <dt>Browse source</dt>
        <dd>KDBusAddons on <a href="https://cgit.kde.org/kdbusaddons-5.26.0.git/tree">cgit.kde.org</a></dd>
    </dl>
  </div>
</div>




      </div> <!-- /left -->

      <!-- begin main content -->
      <div id="right" class="col-md-9">
        <div class="row-fluid">
          <div class="page-header">

            <form action="search.html" method="get" class="form-inline">
              <div id="search" class="input-group pull-right">
                <input type="text" id="search-input" name="query" aria-label="Search input" class="form-control" placeholder="Search for...">
                <span class="input-group-btn">
                  <button type="submit" class="btn btn-default" aria-label="Search">
                    <span class="glyphicon glyphicon-search"></span>
                  </button>
                </span>
              </div>
            </form>

            <div>
              <h1><a name="content"></a> KDBusAddons </h1>
            </div>
          </div>
        </div>
        <div class="row-fluid content">
          <div id="main">
            


<ul class="additional_info">
  <li><a href="http://lxr.kde.org/ident?v=kf5-qt5&amp;_i=KDBusInterProcessLock">View on LXR</a></li>
</ul>


<div id="top"> <!-- Doxygen will close this div -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classKDBusInterProcessLock-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">KDBusInterProcessLock Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="kdbusinterprocesslock_8h_source.html">kdbusinterprocesslock.h</a>&gt;</code></p>

<p>Inherits QObject.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:ac62167a063c9b40a2b3f8bf98da5145f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKDBusInterProcessLock.html#ac62167a063c9b40a2b3f8bf98da5145f">lockGranted</a> (<a class="el" href="classKDBusInterProcessLock.html">KDBusInterProcessLock</a> *<a class="el" href="classKDBusInterProcessLock.html#a41480ff8fbb36988a6df6217815519db">lock</a>)</td></tr>
<tr class="separator:ac62167a063c9b40a2b3f8bf98da5145f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9322fbb826e6626a5bcb6dfab9d9a8b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKDBusInterProcessLock.html#a9322fbb826e6626a5bcb6dfab9d9a8b8">KDBusInterProcessLock</a> (const QString &amp;<a class="el" href="classKDBusInterProcessLock.html#a5536595e1f285a0c88a61436071bb91d">resource</a>)</td></tr>
<tr class="separator:a9322fbb826e6626a5bcb6dfab9d9a8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519e6b63bf6062c95e00506d34c6bb06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKDBusInterProcessLock.html#a519e6b63bf6062c95e00506d34c6bb06">~KDBusInterProcessLock</a> ()</td></tr>
<tr class="separator:a519e6b63bf6062c95e00506d34c6bb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41480ff8fbb36988a6df6217815519db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKDBusInterProcessLock.html#a41480ff8fbb36988a6df6217815519db">lock</a> ()</td></tr>
<tr class="separator:a41480ff8fbb36988a6df6217815519db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5536595e1f285a0c88a61436071bb91d"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKDBusInterProcessLock.html#a5536595e1f285a0c88a61436071bb91d">resource</a> () const</td></tr>
<tr class="separator:a5536595e1f285a0c88a61436071bb91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf278cddaba11314520bad8ebc6c1ea9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKDBusInterProcessLock.html#acf278cddaba11314520bad8ebc6c1ea9">unlock</a> ()</td></tr>
<tr class="separator:acf278cddaba11314520bad8ebc6c1ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c2cc245e2fdfb0b37dc2e2dc983106"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKDBusInterProcessLock.html#a34c2cc245e2fdfb0b37dc2e2dc983106">waitForLockGranted</a> ()</td></tr>
<tr class="separator:a34c2cc245e2fdfb0b37dc2e2dc983106"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for serializing access to a resource that is shared between multiple processes. </p>
<p>This class can be used to serialize access to a resource between multiple processes. Instead of using lock files, which could become stale easily, the registration of dummy dbus services is used to allow only one process at a time to access the resource.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><a class="code" href="classKDBusInterProcessLock.html">KDBusInterProcessLock</a> *<a class="code" href="classKDBusInterProcessLock.html#a41480ff8fbb36988a6df6217815519db">lock</a> = <span class="keyword">new</span> <a class="code" href="classKDBusInterProcessLock.html#a9322fbb826e6626a5bcb6dfab9d9a8b8">KDBusInterProcessLock</a>(<span class="stringliteral">&quot;myresource&quot;</span>);</div><div class="line">connect(lock, SIGNAL(<a class="code" href="classKDBusInterProcessLock.html#ac62167a063c9b40a2b3f8bf98da5145f">lockGranted</a>(<a class="code" href="classKDBusInterProcessLock.html">KDBusInterProcessLock</a> *)),</div><div class="line">              <span class="keyword">this</span>, SLOT(doCriticalTask(<a class="code" href="classKDBusInterProcessLock.html">KDBusInterProcessLock</a> *)));</div><div class="line">lock-&gt;<a class="code" href="classKDBusInterProcessLock.html#a41480ff8fbb36988a6df6217815519db">lock</a>();</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">... ::doCriticalTask(<a class="code" href="classKDBusInterProcessLock.html">KDBusInterProcessLock</a> *lock)</div><div class="line">{</div><div class="line">   <span class="comment">// change common resource</span></div><div class="line"></div><div class="line">   lock-&gt;<a class="code" href="classKDBusInterProcessLock.html#acf278cddaba11314520bad8ebc6c1ea9">unlock</a>();</div><div class="line">}</div></div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Tobias Koenig <a href="#" onclick="location.href='mai'+'lto:'+'tok'+'oe'+'@kd'+'e.'+'org'; return false;">tokoe<span style="display: none;">.nosp@m.</span>@kde<span style="display: none;">.nosp@m.</span>.org</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="kdbusinterprocesslock_8h_source.html#l00062">62</a> of file <a class="el" href="kdbusinterprocesslock_8h_source.html">kdbusinterprocesslock.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9322fbb826e6626a5bcb6dfab9d9a8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9322fbb826e6626a5bcb6dfab9d9a8b8">&#9670;&nbsp;</a></span>KDBusInterProcessLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KDBusInterProcessLock::KDBusInterProcessLock </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>resource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new inter process lock object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>The identifier of the resource that shall be locked. This identifier can be any string, however it must be unique for the resource and every client that wants to access the resource must know it. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kdbusinterprocesslock_8cpp_source.html#l00058">58</a> of file <a class="el" href="kdbusinterprocesslock_8cpp_source.html">kdbusinterprocesslock.cpp</a>.</p>

</div>
</div>
<a id="a519e6b63bf6062c95e00506d34c6bb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519e6b63bf6062c95e00506d34c6bb06">&#9670;&nbsp;</a></span>~KDBusInterProcessLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KDBusInterProcessLock::~KDBusInterProcessLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the inter process lock object. </p>

<p class="definition">Definition at line <a class="el" href="kdbusinterprocesslock_8cpp_source.html#l00063">63</a> of file <a class="el" href="kdbusinterprocesslock_8cpp_source.html">kdbusinterprocesslock.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a41480ff8fbb36988a6df6217815519db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41480ff8fbb36988a6df6217815519db">&#9670;&nbsp;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KDBusInterProcessLock::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests the lock. </p>
<p>The lock is granted as soon as the <a class="el" href="classKDBusInterProcessLock.html#ac62167a063c9b40a2b3f8bf98da5145f" title="This signal is emitted when the requested lock has been granted. ">lockGranted()</a> signal is emitted. </p>

<p class="definition">Definition at line <a class="el" href="kdbusinterprocesslock_8cpp_source.html#l00073">73</a> of file <a class="el" href="kdbusinterprocesslock_8cpp_source.html">kdbusinterprocesslock.cpp</a>.</p>

</div>
</div>
<a id="ac62167a063c9b40a2b3f8bf98da5145f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac62167a063c9b40a2b3f8bf98da5145f">&#9670;&nbsp;</a></span>lockGranted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KDBusInterProcessLock::lockGranted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classKDBusInterProcessLock.html">KDBusInterProcessLock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This signal is emitted when the requested lock has been granted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>The lock that has been granted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5536595e1f285a0c88a61436071bb91d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5536595e1f285a0c88a61436071bb91d">&#9670;&nbsp;</a></span>resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString KDBusInterProcessLock::resource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the identifier of the resource the lock is set on. </p>

<p class="definition">Definition at line <a class="el" href="kdbusinterprocesslock_8cpp_source.html#l00068">68</a> of file <a class="el" href="kdbusinterprocesslock_8cpp_source.html">kdbusinterprocesslock.cpp</a>.</p>

</div>
</div>
<a id="acf278cddaba11314520bad8ebc6c1ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf278cddaba11314520bad8ebc6c1ea9">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KDBusInterProcessLock::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the lock. </p>
<dl class="section note"><dt>Note</dt><dd>This method should be called as soon as the critical area is left in your code path and the lock is no longer needed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kdbusinterprocesslock_8cpp_source.html#l00080">80</a> of file <a class="el" href="kdbusinterprocesslock_8cpp_source.html">kdbusinterprocesslock.cpp</a>.</p>

</div>
</div>
<a id="a34c2cc245e2fdfb0b37dc2e2dc983106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c2cc245e2fdfb0b37dc2e2dc983106">&#9670;&nbsp;</a></span>waitForLockGranted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KDBusInterProcessLock::waitForLockGranted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for the granting of a lock by starting an internal event loop. </p>

<p class="definition">Definition at line <a class="el" href="kdbusinterprocesslock_8cpp_source.html#l00085">85</a> of file <a class="el" href="kdbusinterprocesslock_8cpp_source.html">kdbusinterprocesslock.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="kdbusinterprocesslock_8h_source.html">kdbusinterprocesslock.h</a></li>
<li><a class="el" href="kdbusinterprocesslock_8cpp_source.html">kdbusinterprocesslock.cpp</a></li>
</ul>
</div><!-- contents -->

<div class="copyrights">
  This file is part of the KDE documentation.<br/>
  Documentation copyright &copy; 1996-2017 The KDE developers.<br/>
  Generated on Wed Aug 16 2017 09:23:38 by
  <a href="http://www.doxygen.org/">doxygen</a> 1.8.13 written
  by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>, &copy;&nbsp;1997-2006
  <p>
  KDE's <a href="http://community.kde.org/Policies/Library_Documentation_Policy">Doxygen guidelines</a> are available online.
  </p>
</div>


          </div>
        </div>
      </div> <!-- /right -->
    </div> <!-- /body -->
  </div> <!-- /body_wrapper -->

  <footer class="footer bg-primary">
    <div id="footer-text" class="center-block col-md-7" style="float:none;">
        <p>Report problems with this website to <a href="https://go.kde.org/u/systickets">our bug tracking system</a>.<br />
Contact the specific authors with questions and comments about the page contents.<p>
<p>KDE<sup>&#174;</sup> and <a href="/media/images/kde_gear_black.png">the K Desktop Environment<sup>&#174;</sup> logo</a> are registered trademarks of <a href="http://ev.kde.org/" title="Homepage of the KDE non-profit Organization">KDE e.V.</a> | <a href="http://www.kde.org/contact/impressum.php">Legal</a></p>
    </div>
    
  </footer>

<!--
WARNING: DO NOT SEND MAIL TO THE FOLLOWING EMAIL ADDRESS! YOU WILL
BE BLOCKED INSTANTLY AND PERMANENTLY!
<a href="mailto:aaaatrap-45abe0e0c3bebc77@kde.org">Block me</a>
WARNING END
-->

</body>
</html>